receivers:
  awscloudwatch:
    region: ${env:AWS_REGION}
    profile: ${env:AWS_PROFILE}
    logs:
      poll_interval: 10s

processors:
  resource/axoflow:
    attributes:
      - key: "com.axoflow.product"
        action: insert
        value: "aws-cloudwatch"

exporters:
  otlp/axorouter:
    endpoint: ${env:AXOROUTER_ENDPOINT}
    tls:
      insecure: true

  debug:
    verbosity: detailed

extensions:
  health_check:
    endpoint: ${env:POD_IP}:13133

service:
  extensions: [health_check]
  pipelines:
    logs:
      receivers: [awscloudwatch]
      processors: [resource/axoflow]
      exporters: [otlp/axorouter, debug]
